<%= form_for @medium, as: :medium do |f| %>
  <%= render "/shared/form_errors", object: @medium %>
  
  <%= f.hidden_field :type, value: @medium.type %>

  <% if @medium.type == "Photo" %>
    <div class="form-group">
      <%= f.label :image_url, "Image URL" %>
      <%= f.text_field :image_url, autofocus: true, class: "form-control input-lg" %>
    </div>
  <% end %>

  <% if @medium.type == "Video" %>
    <div class="form-group">
      <%= f.label :video_url, "Video URL" %>
      <%= f.text_field :video_url, autofocus: true, class: "form-control input-lg" %>
    </div>
  <% end %>

  <% if @medium.type == "Audio" %>
    <div class="form-group">
      <%= f.label :audio_url, "Audio URL" %>
      <%= f.text_field :audio_url, autofocus: true, class: "form-control input-lg" %>
    </div>
  <% end %>

  <% if @medium.type =~ /Photo|Video/ %>
    <fieldset>
      <legend>Social <%= @medium.type.pluralize %></legend>

      <div class="row">
        <div class="col-xs-12 col-sm-4">
          <div class="form-group">
            <%= f.label :instagram_url, "Instagram URL" %>
            <%= f.text_field :instagram_url, class: "form-control" %>
          </div>
        </div>

        <div class="col-xs-12 col-sm-4">
          <div class="form-group">
            <%= f.label :flickr_url, "Flickr URL" %>
            <%= f.text_field :flickr_url, class: "form-control" %>
          </div>
        </div>

        <div class="col-xs-12 col-sm-4">
          <div class="form-group">
            <%= f.label :facebook_url, "Facebook URL" %>
            <%= f.text_field :facebook_url, class: "form-control" %>
          </div>
        </div>
      </div>

      <% if @medium.type == "Video" %>
        <div class="row">
          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :youtube_url, "YouTube URL" %>
              <%= f.text_field :youtube_url, class: "form-control" %>
            </div>
          </div>

          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :vimeo_url, "Vimeo URL" %>
              <%= f.text_field :vimeo_url, class: "form-control" %>
            </div>
          </div>
        </div>
      <% end %>
    </fieldset>
  <% end %>


  <% if @medium.type == "Audio" %>
    <fieldset>
      <legend>Social Audio</legend>

      <div class="form-group">
        <%= f.label :soundcloud_url, "SoundCloud URL" %>
        <%= f.text_field :soundcloud_url, class: "form-control" %>
      </div>
    </fieldset>
  <% end %>


  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: "form-control input-lg" %>
  </div>

  <div class="form-group">
    <%= f.label :description %>
    <%= f.text_area :description, class: "form-control" %>
  </div>

  <div class="row">
    <div class="col-xs-6">
      <div class="form-group">
        <%= f.label :creator_name, "Creator&rsquo;s Name".html_safe %>
        <%= f.text_field :creator_name, class: "form-control" %>
      </div>
    </div>
    <div class="col-xs-6">
      <div class="form-group">
        <%= f.label :creator_url, "Creator&rsquo;s URL".html_safe %>
        <%= f.text_field :creator_url, class: "form-control" %>
      </div>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :published_at, "Date #{@medium.type} Was Originally Published" %>

    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <%= text_field_tag "published_at_1i",
              @medium.published_at.try(:year),
              placeholder: "Four digit year: #{Time.now.year}",
              name:        "medium[published_at(1i)]",
              id:          "medium_published_at_1i",
              pattern:     "[0-9]{3}",
              class:       "form-control" %>
      </div>
      <div class="col-xs-12 col-sm-4">
        <%= select_month @medium.published_at.try(:month),
              { prompt: true },
              name:        "medium[published_at(2i)]",
              id:          "medium_published_at_2i",
              class: "form-control" %>
      </div>
      <div class="col-xs-12 col-sm-4">
        <%= select_day @medium.published_at.try(:day),
              { prompt: true },
              name:        "medium[published_at(3i)]",
              id:          "medium_published_at_3i",
              
              class: "form-control" %>
      </div>
    </div>
  </div>

  <div class="actions">
    <%= link_to "Cancel", @medium %>
    <%= f.submit "Save #{@medium.type}",  class: "btn btn-success btn-lg" %>
  </div>
<% end %>
